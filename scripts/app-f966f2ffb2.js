!function(){"use strict";function e(e,t,n){function r(){var n=s();return t.get({url:n.LIST}).then(function(t){return e("orderBy")(t,"mangaId")})}function i(e){var n=s(),r={url:n.COMIC_BY_ID+e};return t.get(r).then(function(t){return t.mangaId=e,t})}function o(e){return n.setCurrentView(e).then(function(e){return e})}function a(e){return n.setCurrentItem(e)}function c(){return n.checkCurrentItem()}function l(){return n.getPaginationConfig()}function s(){return n.getHostConfig()}return{getAllComics:r,getPaginationConfig:l,getSingleComic:i,setCurrentView:o,setCurrentItem:a,checkCurrentItem:c}}angular.module("readerApp.remote.comics.service",["readerApp.service.httpRequest","readerApp.service.utility"]).factory("ComicsService",e),e.$inject=["$filter","HttpRequestService","UtilityService"]}(),function(){"use strict";function e(e){e.when("/remote/comics",{templateUrl:"app/js/remote/comics/comics.tpl.html",controller:"RemoteComicsController",controllerAs:"rcctrl",resolve:{factory:t}})}function t(e,t,n){n.getCurrentConfig().then(function(e){(angular.equals({},e)||!e.modeChosen)&&t.path("/")})}angular.module("readerApp.remote.comics",["ngRoute","readerApp.remote.comics.controller","readerApp.remote.comics.service","readerApp.service.utility"]).config(e),e.$inject=["$routeProvider"],t.$inject=["$rootScope","$location","UtilityService"]}(),function(){"use strict";function e(e,t,n){function r(){s(),l()}function i(){u.pagination.offset=1}function o(e){n.checkCurrentItem(),p.mangaId!==e.mangaId&&n.getSingleComic(e.mangaId).then(function(e){n.setCurrentItem({item:e})})}function a(){u.query=""}function c(){n.setCurrentView({url:"app/components/templates/view-comic.tpl.html"})}function l(){n.getAllComics().then(d)}function s(){e.$on(t.BROADCAST.ITEM_RETRIEVE,function(e,t){null!==t&&(p=t)})}function d(e){u.pagination.totalCount=e.length,angular.forEach(e,function(e){angular.isDefined(e)&&u.comics.push(e)})}var u=this,p={mangaId:""};u.comics=[],u.pagination=n.getPaginationConfig(),u.query="",u.onSearch=i,u.onOpen=o,u.onClear=a,u.setCurrentView=c,r()}angular.module("readerApp.remote.comics.controller",["readerApp.config","readerApp.remote.comics.service"]).controller("RemoteComicsController",e),e.$inject=["$rootScope","AppConfig","ComicsService"]}(),function(){"use strict";function e(e,t){function n(){t.sendNotification("Please select JPEG or PNG type only.","error")}function r(){e.close(o.files)}function i(){e.dismiss("close")}var o=this;o.files=[],o.onApply=r,o.onCancel=i,o.onSelectError=n}angular.module("readerApp.modal.select.controller",["readerApp.modal.service"]).controller("SelectModalController",e),e.$inject=["$modalInstance","ModalService"]}(),function(){"use strict";function e(e,t,n){function r(){t.sendNotification("You can use left and right arrow keys to navigate.","info"),p(),i()}function i(){return m.model.name=f.name,m.model.total=f.currentChapter.pages.length-1,m.model.totalChapters=f.chapters.length-1,s(),d(),f.local?m.model.chapter=f.currentChapter.pages:l(f.currentChapter.pages,"chapter")}function o(){--f.chapterIndex,s(),p(),u()}function a(){++f.chapterIndex,d(),p(),u()}function c(){e.close()}function l(e,t){m.model[t].length=0,angular.forEach(e,function(e){m.model[t].push(e.url)})}function s(){var e=f.chapterIndex-1;angular.isDefined(f.chapters[e])&&t.getChapterById({comic:f.mangaId,chapterId:f.chapters[e]}).then(function(e){l(e.pages,"previousChapter")})}function d(){var e=f.chapterIndex+1;angular.isDefined(f.chapters[e])&&t.getChapterById({comic:f.mangaId,chapterId:f.chapters[e]}).then(function(e){l(e.pages,"nextChapter")})}function u(){m.model.total=m.model.chapter.length-1}function p(){m.model.chapterIdx=f.chapterIndex}var m=this,f=angular.copy(n)||{name:null,chapterIndex:0,chapters:[],currentChapter:{pages:[]}};m.model={name:"",chapterIdx:0,index:0,total:0,totalChapters:0,previousChapter:[],chapter:[],nextChapter:[]},m.onCancel=c,m.onPrev=o,m.onNext=a,r()}angular.module("readerApp.modal.reader.controller",["readerApp.modal.service"]).controller("ReaderModalController",e),e.$inject=["$modalInstance","ModalService","data"]}(),function(){"use strict";function e(e,t,n){function r(){angular.forEach(d,function(e){e.active=!e.active,e.active&&(l.host.name=e.name)})}function i(){t.sendNotification("Server successfully changed.","success").then(function(){e.close(l.host)})}function o(){e.dismiss("cancel")}function a(){return d[l.host.name].fullName}function c(e){return s.name===e}var l=this,s=angular.copy(n)||{name:""},d={READER:{fullName:"Mangareader.net",name:"READER",active:c("READER")},FOX:{fullName:"Mangafox.me",name:"FOX",active:c("FOX")}};l.host=s,l.onSwitch=r,l.onApply=i,l.onCancel=o,l.getFullHostName=a}angular.module("readerApp.modal.api.controller",["readerApp.modal.service"]).controller("ApiModalController",e),e.$inject=["$modalInstance","ModalService","data"]}(),function(){"use strict";function e(){return{replace:!0,require:"ngModel",restrict:"E",scope:{onChange:"&"},templateUrl:"app/components/directives/switcher/switcher.tpl.html",link:function(e,t,n,r){function i(e){return"READER"!==e}function o(){e.$apply(function(){angular.isDefined(n.onChange)&&e.onChange()})}e.$watch(function(){return r.$modelValue},function(t){e.isChecked=i(t)}),t.on("click",o),e.$on("$destroy",function(){t.off()})}}}angular.module("readerApp.directive.switcher",[]).directive("switcher",e),e.$inject=[]}(),function(){"use strict";function e(e){return{restrict:"E",replace:!0,scope:{},templateUrl:"app/components/directives/sidebar/sidebar.tpl.html",link:function(t){function n(){r.toggleClass("-menu-open")}var r=angular.element(e[0].body);t.url=encodeURIComponent("http://davidlazic.github.io/SeeR/#/"),t.onOpen=n}}}angular.module("readerApp.directive.sidebar",[]).directive("sidebar",e),e.$inject=["$document"]}(),function(){"use strict";function e(){var e=this;this.active=!1,this.activate=function(t){e.active=t},this.getDimensions=function(e){return{height:e[0].getBoundingClientRect().height,scrollHeight:e[0].scrollHeight}}}function t(e){return{restrict:"A",require:"scrollHeight",scope:{},controller:"scrollHeightController",controllerAs:"shctrl",link:function(t,n,r,i){var o=angular.element(e);o.bind("resize",function(){t.$apply()}),t.$watch(function(){return i.getDimensions(n)},function(e){var t=e.scrollHeight>e.height;i.activate(t)},!0),t.$on("$destroy",function(){n.off()})}}}function n(){return{restrict:"A",require:"^scrollHeight",link:function(e,t,n,r){e.$watch(function(){return r.active},function(t){e.scrollActive=t}),e.$on("$destroy",function(){t.off()})}}}var r=angular.module("readerApp.directive.scrollHeight",[]);r.controller("scrollHeightController",e),e.$inject=[],r.directive("scrollHeight",t),t.$inject=["$window"],r.directive("scrollClass",n),n.$inject=[]}(),function(){"use strict";function e(e,t,n){function r(){n("currentPage")}function i(n){var r={previousChapter:o,nextChapter:a};e.model[n].length&&r[n]&&(l(),r[n](function(){c(function(){p.timeout=t(function(){l()},800)})}))}function o(t){return e.model.nextChapter=e.model.chapter.slice(),e.model.chapter=e.model.previousChapter.slice(),f(),angular.isFunction(t)?t():angular.noop}function a(t){return e.model.previousChapter=e.model.chapter.slice(),e.model.chapter=e.model.nextChapter.slice(),g(),angular.isFunction(t)?t():angular.noop}function c(t){return e.model.index=0,p.posLeft=0,p.setWrapperWidth(),angular.isFunction(t)?t():angular.noop}function l(){p.isLoading=!p.isLoading}function s(){return"-"+100*e.model.index+"%"}function d(){return 0===e.model.chapterIdx}function u(){return e.model.chapterIdx===e.model.totalChapters}var p=this,m=0,f=e.onPrev||angular.noop,g=e.onNext||angular.noop;this.isLoading=!1,this.isWidthSet=!1,this.posLeft=0,this.wrapperWidth=0,this.timeout=!1,this.imageLoaded=!1,this.setWrapperWidth=function(){p.wrapperWidth=(e.model.total+1)*m+"px"},this.setChildWidth=function(e,t){return m=e,p.isWidthSet=!0,angular.isFunction(t)?t():angular.noop},this.checkKeyCode=function(e){var t={37:p.onMoveLeft,39:p.onMoveRight};return t[e.keyCode]?t[e.keyCode]():angular.noop},this.onMoveLeft=function(){if(r(),e.model.index>0)--e.model.index,p.posLeft=s();else{if(d())return angular.noop;i("previousChapter")}},this.onMoveRight=function(){if(r(),e.model.index<e.model.total)++e.model.index,p.posLeft=s();else{if(u())return angular.noop;i("nextChapter")}}}function t(){return{replace:!0,restrict:"E",scope:{model:"=ngModel",onPrev:"&",onNext:"&"},controller:"readerController",controllerAs:"rctrl",templateUrl:"app/components/directives/reader/reader.tpl.html"}}function n(e){return{restrict:"A",require:"^cReader",link:function(t,n,r,i){var o=angular.element(document);o.on("keydown",function(e){i.checkKeyCode(e),t.$apply()}),t.$on("$destroy",function(){o.off(),e.cancel(i.timeout)})}}}function r(){return{restrict:"A",require:"^cReader",link:function(e,t,n,r){r.isWidthSet||r.setChildWidth(t[0].getBoundingClientRect().width,function(){r.setWrapperWidth()})}}}var i=angular.module("readerApp.directive.cReader",[]);i.controller("readerController",e),e.$inject=["$scope","$timeout","$anchorScroll"],i.directive("cReader",t),t.$inject=[],i.directive("readerWrapper",n),n.$inject=["$timeout"],i.directive("imageWrapper",r),r.$inject=[]}(),function(){"use strict";function e(e,t,n,r){function i(){return a.active?a.body.addClass("-loader-active"):a.body.removeClass("-loader-active")}function o(){return a.isSmallScreen?a.body.addClass("-screen-sm"):a.body.removeClass("-screen-sm")}var a=this;this.active=!1,this.isSmallScreen=!1,this.body=angular.element(r[0].body),this.overlay=angular.element('<div class="sr-overlay" autoclose></div>'),this.resolveClassActive=function(e){a.active=e>0,i()},this.resolveClassSmall=function(e){a.isSmallScreen=992>=e,o()},this.setOverlay=function(){var n=t(a.overlay)(e);a.body.append(n)},this.getWinWidth=function(){return n.innerWidth}}function t(e,t){return{restrict:"A",controller:"loaderController",controllerAs:"lctrl",link:function(n,r,i,o){var a=angular.element(t);o.setOverlay(),a.bind("resize",function(){n.$apply()}),n.$watch(function(){return o.getWinWidth()},o.resolveClassSmall),n.$watch(function(){return e.pendingRequests.length},o.resolveClassActive),n.$on("$destroy",function(){r.off()})}}}function n(){return{replace:!0,restrict:"E",require:"^loader",template:"".concat('<div class="sr-loader" ng-class="{\'active\': lctrl.active}">','<i class="sr-icon -icon-loader icon-spinner9"></i>',"</div>"),link:function(e,t){e.$on("$destroy",function(){t.off()})}}}var r=angular.module("readerApp.directive.loader",[]);r.controller("loaderController",e),e.$inject=["$scope","$compile","$window","$document"],r.directive("loader",t),t.$inject=["$http","$window"],r.directive("loaderIndicator",n),n.$inject=[]}(),function(){"use strict";function e(e){function t(t){n.isLoading=e.items.length<t}var n=this;n.isLoading=!1,n.total=0,this.extractURL=function(r){angular.forEach(r,function(i){var o=new FileReader;angular.element(o).bind("load",function(i){n.items.push(i.target.result),t(r.length),e.$apply()}),o.readAsDataURL(i)})},this.setTotal=function(e){n.total=e}}function t(){return{replace:!0,restrict:"E",scope:{items:"=",onSelectError:"&"},controller:"imageSelectController",controllerAs:"isctrl",templateUrl:"app/components/directives/image-select/image-select.tpl.html",bindToController:{items:"=",onSelectError:"&"}}}function n(e){return{restrict:"A",require:"^imageSelect",link:function(t,n,r,i){n.bind("change",function(){if(angular.isDefined(n[0])&&n[0].files.length){var t=e("fileImage")(n[0].files);t.invalid.length?i.onSelectError():(i.extractURL(t.filtered),i.setTotal(t.filtered.length))}}),t.$on("$destroy",function(){n.off()})}}}var r=angular.module("readerApp.directive.imageSelect",["ui.bootstrap"]);r.controller("imageSelectController",e),e.$inject=["$scope"],r.directive("imageSelect",t),t.$inject=[],r.directive("fileSelect",n),n.$inject=["$filter"]}(),function(){"use strict";function e(e){this.imageSource=null,this.timeout=angular.noop,this.noImageText="",this.updateNoImageText=function(e){this.noImageText=angular.isDefined(e)?e:""},this.updateImageSource=function(e){this.imageSource=e},this.addClass=function(t){this.timeout=e(function(){t.parent().addClass("active")},1400)},this.removeClass=function(t){t.removeClass("active"),e.cancel(this.timeout)}}function t(e){return{replace:!0,restrict:"E",scope:{source:"@"},controller:"imageLoaderController",controllerAs:"ictrl",templateUrl:"app/components/directives/image-loader/image-loader.tpl.html",link:function(t,n,r,i){var o=angular.element(n[0]);t.$watch(function(){return t.source},function(e){e&&(i.removeClass(o),i.updateImageSource(e))}),t.$on("$destroy",function(){n.off(),e.cancel(i.timeout)})}}}function n(){return{restrict:"A",require:"^imageLoader",link:function(e,t,n,r){var i=angular.element(t[0]);t.bind("load",function(){e.$apply(function(){r.addClass(i),r.updateNoImageText()})}),t.bind("error",function(){e.$apply(function(){r.updateNoImageText("No image")})})}}}var r=angular.module("readerApp.directive.imageLoader",[]);r.controller("imageLoaderController",e),e.$inject=["$timeout"],r.directive("imageLoader",t),t.$inject=["$timeout"],r.directive("imageDelayed",n),n.$inject=[]}(),function(){"use strict";function e(e,t){return{replace:!0,restrict:"E",template:"".concat('<div class="col-sm-8 col-md-6 sr-wrapper -wrapper-external-view" ng-class="{ \'active\' : appctrl.modeChosen }">','<div class="wrapper-content" ng-include src="contentUrl"></div>',"</div>"),link:function(n){e.$on(t.BROADCAST.VIEW_CHANGED,function(e,t){angular.isDefined(t)&&(n.contentUrl=t.url)})}}}angular.module("readerApp.directive.externalView",["readerApp.config"]).directive("externalView",e),e.$inject=["$rootScope","AppConfig"]}(),function(){"use strict";function e(e,t){function n(n){var i=angular.element(n);i.children().remove(),angular.forEach(r,function(n,r){var o=angular.element('<dd class="list-item" ng-click="clctrl.onClick({index:'+r+", chapterId: "+n.chapterId+'})"><a href="javascript:void(0)">'+(r+1)+"</a></dd>"),a=e(o)(t);i.append(a)})}var r=[];this.onClick=t.onClick||angular.noop,this.extractModel=function(e,t){r=[],angular.forEach(e,function(e){r.push(e)}),n(t)}}function t(){return{replace:!0,restrict:"E",require:["^chapterList","ngModel"],scope:{model:"=ngModel",onClick:"&"},controller:"chapterListController",controllerAs:"clctrl",template:'<dl class="sr-list"></dl>',compile:function(){return{post:function(e,t,n,r){r=r[0],e.$watch(function(){return e.model},function(e){e&&r.extractModel(e.chapters,t)}),e.$on("$destroy",function(){t.off()})}}}}}var n=angular.module("readerApp.directive.chapterList",[]);n.controller("chapterListController",e),e.$inject=["$compile","$scope"],n.directive("chapterList",t),t.$inject=[]}(),function(){"use strict";function e(e){return{restrict:"A",scope:{},link:function(t,n){var r=angular.element(e[0].body);n.bind("click",function(){return r.hasClass("-menu-open")?(r.removeClass("-menu-open"),t.$apply()):angular.noop})}}}angular.module("readerApp.directive.autoclose",[]).directive("autoclose",e),e.$inject=["$document"]}(),function(){"use strict";function e(e){return{restrict:"A",scope:{delayedFn:"&"},link:function(t,n,r){var i=t.delayedFn||angular.noop,o=parseInt(r.delay,10)||0,a=angular.noop;a=e(function(){i()},o),t.$on("$destroy",function(){n.off(),e.cancel(a)})}}}var t=angular.module("readerApp.directive.animDebounce",[]);t.directive("animDebounce",e),e.$inject=["$timeout"]}(),function(){"use strict";angular.module("readerApp.remote",["readerApp.remote.comics"])}(),function(){"use strict";function e(e,t,n,r,i){function o(e){var t={url:c.COMIC_BY_ID+e.comic+"/"+e.chapterId};return n.get(t).then(function(e){return e})}function a(t,n){return e.when(i[n](t))}var c=r.getHostConfig();return{getChapterById:o,sendNotification:a}}angular.module("readerApp.modal.service",["readerApp.service.httpRequest","readerApp.service.utility","readerApp.service.notification"]).factory("ModalService",e),e.$inject=["$q","$filter","HttpRequestService","UtilityService","notificationMessage"]}(),function(){"use strict";angular.module("readerApp.modal",["readerApp.modal.service","readerApp.modal.reader.controller","readerApp.modal.api.controller","readerApp.modal.select.controller"])}(),function(){"use strict";function e(e){function t(t){return e.setCurrentView(t).then(function(e){return e})}return{setCurrentView:t}}angular.module("readerApp.home.service",["readerApp.service.utility","readerApp.config"]).factory("HomeService",e),e.$inject=["UtilityService"]}(),function(){"use strict";function e(e){e.when("/",{template:"",controller:"HomeController",controllerAs:"homectrl"})}angular.module("readerApp.home",["ngRoute","readerApp.home.controller","readerApp.home.service"]).config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e){function t(){n()}function n(){e.setCurrentView({url:"app/components/templates/view-home.tpl.html"})}t()}angular.module("readerApp.home.controller",["readerApp.home.service"]).controller("HomeController",e),e.$inject=["HomeService"]}(),function(){"use strict";function e(e,t,n){function r(){return p(h).then(function(e){return e})}function i(e){return angular.extend(f,angular.copy(f,e))}function o(){return angular.extend(g,angular.copy(n.HOST[g.HOST],{})),angular.copy(g,{})}function a(e){return angular.extend(g,{HOST:e})}function c(e){return u(e),p(h).then(function(e){return t.$emit(n.BROADCAST.VIEW_CHANGED,h),e})}function l(e){return u(e),p(h).then(function(e){return t.$emit(n.BROADCAST.ITEM_CHOSEN,h),e})}function s(){t.$emit(n.BROADCAST.ITEM_CHECK)}function d(e){return u(e),p(h).then(function(e){return e})}function u(e){return angular.extend(h,angular.copy(e,m))}function p(t){return e.when(t)}var m={url:null,modeChosen:null,item:null},f={limit:50,offset:1,offsetStart:0,totalCount:0,maxSize:5},g={HOST:"",LIST:"",COMIC_BY_ID:"",COVER:""},h={};return{getPaginationConfig:i,getHostConfig:o,getCurrentConfig:r,setHostValue:a,setCurrentView:c,setCurrentItem:l,setModeChosen:d,checkCurrentItem:s}}angular.module("readerApp.service.utility",["readerApp.config"]).factory("UtilityService",e),e.$inject=["$q","$rootScope","AppConfig"]}(),function(){"use strict";function e(e,t){e.isSuccess="success"===t.notifyType,e.isError="error"===t.notifyType,e.isInfo="info"===t.notifyType,e.message=t.message,e.title=t.title}function t(){function e(e,n,r,i,o,a,c,l,s){function d(e){var n=this;this.options=angular.extend({},t,e),this.open=!1,this.closeTimeout=null,this.popupEl=angular.element("<div>"),this.handleClose=function(){n._close()}}var u=n.find("body"),p=angular.element("<div>");p.addClass("sr-notification"),u.append(p),d.prototype.show=function(e,t){var n=this,a=this.options;if(e&&(a.templateUrl=e),t&&(a.controller=t),!a.template&&!a.templateUrl)throw new Error("notificationMessage.show expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(e){var t=e.$scope=n.$scope=e.$scope?e.$scope:i.$new();if(n.popupEl.html(e.$template),n.options.controller){var a=o(n.options.controller,e);n.popupEl.children().data("ngControllerController",a)}r(n.popupEl)(t),n._addElementsToDom(),n._bindEvents()}),this._autoClose(),this.deferred=c.defer(),this.deferred.promise},d.prototype.isOpen=function(){return this.open},d.prototype._close=function(){this.open&&this._onCloseComplete()},d.prototype._autoClose=function(){var e=this;this.options.autoClose&&this.options.autoClose>0&&null!==this.popupEl&&(this.closeTimeout=s(function(){e._close()},this.options.autoClose))},d.prototype._bindEvents=function(){this.$scope.$on("$locationChangeSuccess",this.handleClose)},d.prototype._onCloseComplete=function(){var e=this;e._removeElementsFromDom()},d.prototype._addElementsToDom=function(){p.append(this.popupEl),this.open=!0},d.prototype._removeElementsFromDom=function(){this.popupEl.remove(),this.open=!1},d.prototype._loadResolves=function(){var t,n=this,r=[],i=[];return this.options.template?t=c.when(this.options.template):this.options.templateUrl&&(t=e.get(this.options.templateUrl,{cache:a}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,t){i.push(t),r.push(angular.isString(e)?l.get(e):l.invoke(e))}),i.push("$template"),r.push(t),c.all(r).then(function(e){var t={};return angular.forEach(e,function(e,n){t[i[n]]=e}),t.notification=n,t})};var m=function(e,t){return new d({controller:"NotificationController",resolve:{model:function(){return{notifyType:t,message:e}}}})};return{success:function(e){m(e,"success").show()},error:function(e){m(e,"error").show()},info:function(e){m(e,"info").show()}}}var t={autoClose:6e3,template:"<div class=\"sr-notification-inner\" ng-class=\"{'-success': isSuccess, '-error': isError, '-info': isInfo}\"><i class=\"sr-icon\" ng-class=\"{'icon-checkmark': isSuccess, 'icon-warning': isError, 'icon-info': isInfo}\"></i>"+'<span class="notification-title" ng-bind-html="title"></span><span class="notification-content" ng-bind-html="message"></span></div>'};return e.$inject=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$injector","$timeout"],{$get:e}}var n=angular.module("readerApp.service.notification",[]);n.controller("NotificationController",e),e.$inject=["$scope","model"],n.provider("notificationMessage",t)}(),function(){"use strict";function e(e,t,n,r,i){function o(){return angular.copy(C)}function a(e){return c("GET",e)}function c(e,t){var n=l(e,t.url,t.data);return angular.extend(t,n),d(t)}function l(e,t,n){var i=r.URL.BASE+t,o={};return"GET"===e&&(o=s(i,n)),o}function s(e,t){var n={};return n=t?{method:"GET",url:e,transformRequest:p,headers:{"Content-Type":"application/x-www-form-urlencoded"},params:t,timeout:1e4,cache:!0}:{method:"GET",url:e,timeout:1e4,cache:!0}}function d(t){var r=n.defer();return e(t).success(function(e,n,i,o){m(t,e,n,o),r.resolve(e)}).error(function(e,n,i,o){f(t,e,n,o),r.reject(e)}),r.promise["finally"](function(){r.promise.abort=angular.noop,r=r.promise=null}),r.promise}function u(e,n,r){t.debug(e,n,r)}function p(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function m(e,t,n,r){if(u(t,n,r),"GET"!==r.method){var a=angular.extend(o(),e.messages);0===a.success.text&&(a.success.text=h),a.success.enabled&&i.success(a.success.text)}}function f(e,t,n,r){u(t,n,r);var a=angular.extend(o(),e.messages);a.error.text=g(n),a.error.enabled&&i.error(a.error.text)}function g(e){return-1!==[0,408].indexOf(e)?"Sorry, server is taking too long to respond.":v}var h="Data has been successfully saved.",v="Error occurred while trying to load data.",C={success:{text:"",enabled:!0},error:{text:"",enabled:!0}};return{getMessagesConfig:o,get:a}}angular.module("readerApp.service.httpRequest",["readerApp.config","readerApp.service.notification"]).factory("HttpRequestService",e),e.$inject=["$http","$log","$q","AppConfig","notificationMessage"]}(),function(){"use strict";function e(e,t){return{request:function(t){return t||e.when(t)},requestError:function(t){return e.reject(t)},response:function(t){return t||e.when(t)},responseError:function(n){return-1!==[401,404].indexOf(n.status)&&t.path("/"),e.reject(n)}}}angular.module("readerApp.service.httpInterceptor",[]).factory("httpInterceptor",e).config(["$httpProvider",function(e){e.interceptors.push("httpInterceptor")}]),e.$inject=["$q","$location"]}(),function(){"use strict";var e=angular.module("readerApp.filter.offset",[]);e.filter("offset",function(){return function(e,t){if(angular.isDefined(e)&&angular.isArray(e)){var n=--t.offset*t.limit,r=n+t.limit;return e.slice(n,r)}}})}(),function(){"use strict";var e=angular.module("readerApp.filter.fileImage",[]);e.filter("fileImage",function(){return function(e){if(angular.isDefined(e)&&angular.isObject(e)){var t={filtered:[],invalid:[]};return angular.forEach(e,function(e){-1!==["image/jpeg","image/png"].indexOf(e.type)?t.filtered.push(e):t.invalid.push(e)}),t}}})}(),function(){"use strict";var e=angular.module("readerApp.filter.dashRemove",[]);e.filter("dashRemove",function(){return function(e){if(angular.isDefined(e)&&angular.isArray(e)){var t=[];return angular.forEach(e,function(e){t.push(e.replace(/-/g," "))}),t}}})}(),function(){"use strict";function e(e,t,n,r,i){function o(){return angular.extend(p,angular.copy(d,{}))}function a(){return angular.copy(u,{})}function c(e){angular.copy(r.getHostConfig(),s);var t={url:s.COMIC_BY_ID+e.comic+"/"+e.chapterId};return n.get(t).then(function(e){return e})}function l(t,n){return e.when(i[n](t))}var s={},d={name:null,chapterIndex:0,chapters:[],currentChapter:null},u={cover:"/images/no-cover.png"},p={};return{getDataConfig:o,getItemModel:a,getChapterById:c,sendNotification:l}}angular.module("readerApp.appService",["readerApp.service.httpRequest","readerApp.service.utility","readerApp.service.notification"]).factory("AppService",e),e.$inject=["$q","$filter","HttpRequestService","UtilityService","notificationMessage"]}(),function(){"use strict";function e(e,t,n){t.defaults.useXDomain=!0,delete t.defaults.headers.common[n.HEADER.COMMON],t.defaults.headers.common["X-Mashape-Key"]=n.HEADER.MASH_KEY}angular.module("readerApp",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ngRoute","ui.bootstrap","readerApp.app","readerApp.home","readerApp.remote","readerApp.modal","readerApp.service.httpRequest","readerApp.service.httpInterceptor","readerApp.service.utility","readerApp.service.notification","readerApp.filter.offset","readerApp.filter.dashRemove","readerApp.filter.fileImage","readerApp.directive.externalView","readerApp.directive.cReader","readerApp.directive.loader","readerApp.directive.imageLoader","readerApp.directive.animDebounce","readerApp.directive.chapterList","readerApp.directive.scrollHeight","readerApp.directive.switcher","readerApp.directive.sidebar","readerApp.directive.autoclose","readerApp.directive.imageSelect"]).config(["$routeProvider","AppConfig",function(e,t){e.otherwise({redirectTo:t.ROUTE.DEFAULT})}]).run(e),e.$inject=["$rootScope","$http","AppConfig"]}(),function(){"use strict";function e(e,t,n,r,i,o,a,c){function l(){s(S),w(),A()}function s(e){c.setHostValue(e)}function d(e){var t=angular.isDefined(e.id)?e.id:$.item.chapters[0].chapterId,n=e.index||0;b(e.name,n),C(),a.getChapterById({comic:e.name,chapterId:t}).then(function(e){x.currentChapter=e,x.name=$.item.name,x.mangaId=$.item.mangaId,v(x)})}function u(){var e={name:S};g();var t=r.open({backdrop:!1,keyboard:!1,windowClass:"sr-modal -modal-switch",templateUrl:"app/js/modal/api/api.tpl.html",controller:"ApiModalController",controllerAs:"amctrl",size:"lg",resolve:{data:function(){return e}}});t.result.then(function(e){S=e.name,s(S)})}function p(e){return angular.isDefined(e)?"remote"===e?m():f():void 0}function m(){$.modeChosen=!$.modeChosen,c.setModeChosen({modeChosen:!0}),s(S)}function f(){var e=r.open({backdrop:!1,keyboard:!1,windowClass:"sr-modal -modal-switch",templateUrl:"app/js/modal/select/select.tpl.html",controller:"SelectModalController",controllerAs:"smctrl",size:"lg"});e.result.then(function(e){v({local:!0,chapterIndex:0,chapters:[],currentChapter:{pages:e}})})}function g(){$.modeChosen=!1,$.item=null,c.setModeChosen({url:null,modeChosen:!1,item:null})}function h(){return null!==$.item}function v(e){var t=r.open({backdrop:!1,keyboard:!1,windowClass:"sr-modal -modal-reader",templateUrl:"app/js/modal/reader/reader.tpl.html",controller:"ReaderModalController",controllerAs:"rmctrl",size:"lg",resolve:{data:function(){return e}}});t.result.then(function(){e=a.getDataConfig()})}function C(){angular.forEach($.item.chapters,function(e){x.chapters.push(e.chapterId)})}function b(e,t){angular.extend(x,{name:e,chapterIndex:t})}function A(){n.$on(o.BROADCAST.ITEM_CHECK,function(){n.$broadcast(o.BROADCAST.ITEM_RETRIEVE,$.item)})}function y(e){angular.isArray(e)&&angular.forEach(e,function(e){$.item[e]=i("dashRemove")($.item[e])})}function w(){n.$on(o.BROADCAST.ITEM_CHOSEN,function(e,t){angular.isDefined(t)&&($.item=t.item,y(["author","artist"]))})}var $=this,x=a.getDataConfig(),S="READER";$.modeChosen=!1,$.item=null,$.onModeChosen=p,$.onResetMode=g,$.onRead=d,$.onSwitch=u,$.isItemSet=h,$.setHostValue=s,l()}angular.module("readerApp.app",["ui.bootstrap","readerApp.config","readerApp.appService","readerApp.service.utility"]).controller("AppController",e),e.$inject=["$http","$scope","$rootScope","$modal","$filter","AppConfig","AppService","UtilityService","notificationMessage"]}(),function(){"use strict";var e=angular.module("readerApp.config",[]);e.constant("AppConfig",{HOST:{READER:{LIST:"/mangareader.net/",COMIC_BY_ID:"/mangareader.net/manga/",COVER:"/mangareader.net/manga/"},FOX:{LIST:"/mangafox.me/",COMIC_BY_ID:"/mangafox.me/manga/",COVER:"/mangafox.net/manga/"},STREAM:{}},URL:{BASE:"https://doodle-manga-scraper.p.mashape.com"},ROUTE:{DEFAULT:"/"},HEADER:{COMMON:"X-Requested-With",MASH_KEY:"PSIRi8Do3mmshyfYAvbND6cGn9H8p18k6N9jsnrdh8edj21ijr",ACCEPT:"text/plain"},BROADCAST:{VIEW_CHANGED:"view:changed",MODE_CHOSEN:"mode:chosen",ITEM_CHOSEN:"item:chosen",ITEM_CHECK:"item:check",ITEM_RETRIEVE:"item:retrieve"}})}(),angular.module("readerApp").run(["$templateCache",function(e){e.put("app/components/templates/view-comic.tpl.html",'<div class="row sr-wrapper -wrapper-bar"><div class="col-sm-6 -padding-left-45 -text-left"><loader-indicator></loader-indicator><span class="sr-title -title-comic">{{appctrl.item.name}}</span></div><div class="col-sm-6 -text-right"><a class="btn sr-btn -btn-link" href="#/" ng-click="appctrl.onSwitch()"><i class="sr-icon -icon-green icon-loop2"></i><div class="sr-tooltip -tooltip-hover">Switch server</div></a> <a class="btn sr-btn -btn-link" href="#/" ng-click="appctrl.onResetMode()"><i class="sr-icon -icon-green icon-undo2"></i><div class="sr-tooltip -tooltip-hover">Home</div></a></div></div><section class="sr-wrapper -wrapper-view"><div ng-include="" ng-if="!appctrl.item" src="\'app/components/templates/partials/comic-default.tpl.html\'"></div><div ng-include="" ng-if="appctrl.item" src="\'app/components/templates/partials/comic.tpl.html\'"></div><chapter-list ng-show="appctrl.item" ng-model="appctrl.item" on-click="appctrl.onRead({name: appctrl.item.mangaId, id: chapterId, index: index})"></chapter-list></section>'),e.put("app/components/templates/view-home.tpl.html",'<section class="sr-wrapper -wrapper-home"><div class="sr-title -title-xxlg -title-upper -title-neon">SeeR</div><div class="sr-wrapper -wrapper-logo"><svg version="1.1" class="sr-logo -logo-lg -logo-absolute" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewbox="0 0 960 560" style="enable-background:new 0 0 960 560;" xml:space="preserve"><path d="M411.7,265.7c0,0-16.3-20-23-46.7c0,0,24.7,7.5,51.5,2.8c26.8-4.7,59.2,24.5,59.2,24.5s61.2,54.3,84.2,52.7 c0,0-17.5,22.7-97.4,21.8c0,0,45.4-9.2,59.6-22.2c0,0,2.5-3-0.2-4.3s-15.7-7.6-23.3-13.1c0,0-17.8,21.6-34.5-1.3c0,0,9,1.5,8.2-4.5 c-0.8-6-6.2-7.3-8.7-5.6c0,0-0.2-5.5,7.3-7.9c0,0,0.4-0.6-0.4-1.4s-15.8-11.6-18.6-13.8s-8.8-2.5-12.4,1.5s-27.6,28.2,0,63 c0,0-46.8-30.5-26.5-68c0,0,1.7-1.5,0-2c-1.7-0.5-15.7,2.3-31.2-6.2C405.5,235.2,400.2,246.7,411.7,265.7z"></path><circle fill="#4f201e" cx="549.9" cy="343.3" r="7.8"></circle><circle fill="#4f201e" cx="513.1" cy="350.3" r="11.4"></circle></svg></div><div class="sr-wrapper -wrapper-absolute -absolute-center-x"><div class="sr-title -title-lg -title-upper -title-margin-b">Choose mode</div><div class="row"><div class="col-sm-6"><a class="sr-btn -btn-mode" data-text="Remote" href="#/remote/comics" ng-click="appctrl.onModeChosen(\'remote\')"><i class="icon-bookmarks"></i></a><div class="sr-title -title-sm -title-gray">Enables you to read comics from a remote server. Choose this mode for online reading.</div></div><div class="col-sm-6"><a class="sr-btn -btn-mode" data-text="Local" href="#/" ng-click="appctrl.onModeChosen(\'local\')"><i class="icon-bookmark"></i></a><div class="sr-title -title-sm -title-gray">Enables you to read comics from your local machine. Choose this mode for offline reading.</div></div></div></div></section>'),
e.put("app/components/directives/image-loader/image-loader.tpl.html",'<div class="sr-idle" idle-text="{{ictrl.noImageText}}"><img class="image-element" ng-src="{{ictrl.imageSource}}" image-delayed=""></div>'),e.put("app/components/directives/image-select/image-select.tpl.html",'<div class="sr-form-select"><div class="sr-title -title-select -title-neon">{{isctrl.total}} files selected</div><input class="select-hidden" id="image-select" type="file" multiple="" file-select="" accept="image/jpeg, image/png"> <label class="select-input" for="image-select" ng-show="!isctrl.isLoading"><i class="sr-icon -icon-upload icon-upload2"></i></label> <label class="select-input" ng-show="isctrl.isLoading"><i class="sr-icon -icon-loader icon-spinner9"></i></label></div>'),e.put("app/components/directives/reader/reader.tpl.html",'<div class="sr-wrapper -wrapper-relative"><button type="button" class="btn sr-btn -btn-navigation -nav-left" ng-click="rctrl.onMoveLeft()"><i class="sr-icon -icon-navigation -nav-left icon-arrow-top"></i></button><div class="sr-reader" ng-class="{ \'-loader-active\' : rctrl.isLoading }"><ul reader-wrapper="" class="reader-list" style="left: {{rctrl.posLeft}}; width: {{rctrl.wrapperWidth}}"><li class="list-item" ng-repeat="image in model.chapter track by $index" image-wrapper=""><image-loader source="{{image}}"></image-loader></li></ul></div><button type="button" class="btn sr-btn -btn-navigation -nav-right" ng-click="rctrl.onMoveRight()"><i class="sr-icon -icon-navigation -nav-right icon-arrow-top"></i></button></div>'),e.put("app/components/directives/sidebar/sidebar.tpl.html",'<div class="sr-menu"><div class="sr-icon -icon-menu" ng-click="onOpen()"><div class="menu-inner"></div></div><div class="menu-content"><div class="sr-title -title-comic -title-underline"><i class="sr-icon -icon-share icon-cog -margin-right-5"></i> <span class="-v-middle -display-inline-block">Specifications:</span></div><ul class="sr-list -list-specs"><li class="list-item">Single page application</li><li class="list-item">AngularJS &amp; NodeJS</li><li class="list-item">Built-in prefetching</li><li class="list-item">API switcher</li><li class="list-item">Remote and local mode</li></ul><div class="sr-title -title-comic -title-underline"><i class="sr-icon -icon-share icon-download2 -margin-right-5"></i> <span class="-v-middle -display-inline-block">Download desktop app:</span></div><ul class="sr-list -list-specs"><li class="list-item"><a href="http://soundwave.rs/FTP/SeeR-win-x64.zip">Win-x64</a></li></ul><div class="sr-title -title-comic -title-underline"><i class="sr-icon -icon-share icon-share2 -margin-right-5"></i> <span class="-v-middle -display-inline-block">Share:</span></div><ul class="sr-list -list-share"><li class="list-item"><a href="http://twitter.com/home?status=SeeR+{{url}}" target="_blank"><i class="sr-icon icon-twitter2"></i></a></li><li class="list-item"><a ng-href="http://www.facebook.com/sharer/sharer.php?u={{url}}" target="_blank"><i class="sr-icon icon-facebook2"></i></a></li><li class="list-item"><a href="https://plus.google.com/share?url={{url}}" target="_blank"><i class="sr-icon icon-google-plus2"></i></a></li></ul><div class="menu-footer"><div class="footer-border-b"><a href="mailto:incognetii@gmail.com" target="_blank">David Lazic</a> &copy; 2015</div></div></div></div>'),e.put("app/components/directives/switcher/switcher.tpl.html",'<div><input ng-model="isChecked" class="switch-checkbox" type="checkbox"> <label class="switch-label"></label></div>'),e.put("app/components/templates/partials/comic-default.tpl.html",'<div class="row sr-wrapper -wrapper-comic"><div class="col-sm-8"><div class="sr-idle -idle-text"></div><div class="sr-idle -idle-text"></div><div class="sr-idle -idle-text"></div><div class="sr-idle -idle-text"></div><div class="sr-idle -idle-text"></div></div><div class="col-sm-4"><div class="sr-idle -idle-delayed"></div></div></div>'),e.put("app/components/templates/partials/comic.tpl.html",'<div class="row sr-wrapper -wrapper-comic"><div class="col-sm-8"><div class="row -margin-bottom-10"><div class="col-sm-3"><label class="sr-label -label-tag">Author:</label></div><div class="col-sm-9"><span class="sr-label -label-multi" ng-repeat="author in appctrl.item.author" ng-bind="::author"></span></div></div><div class="row -margin-bottom-10"><div class="col-sm-3"><label class="sr-label -label-tag">Artist:</label></div><div class="col-sm-9"><span class="sr-label -label-multi" ng-repeat="artist in appctrl.item.artist" ng-bind="::artist"></span></div></div><div class="row -margin-bottom-10"><div class="col-sm-3"><label class="sr-label -label-tag">Status:</label></div><div class="col-sm-9"><span class="sr-label -label-multi" ng-bind="::appctrl.item.status"></span></div></div><div class="row -margin-bottom-10"><div class="col-sm-3"><label class="sr-label -label-tag">Released:</label></div><div class="col-sm-9" ng-bind="(appctrl.item.yearOfRelease) ? appctrl.item.yearOfRelease : \'N/A\'"></div></div><div class="row -margin-bottom-10"><div class="col-sm-3"><label class="sr-label -label-tag">Genres:</label></div><div class="col-sm-9"><span class="sr-label -label-multi" ng-repeat="genre in appctrl.item.genres" ng-bind="::genre"></span></div></div><div class="row"><div class="col-sm-12 -padding-right-0"><label class="sr-label -label-tag">Description:</label></div><div class="col-sm-12 -padding-right-5 -font-openLight" ng-bind="appctrl.item.info"></div></div></div><div class="col-sm-4"><image-loader source="{{appctrl.item.cover}}"></image-loader></div></div>'),e.put("app/js/modal/api/api.tpl.html",'<section class="modal-inner"><div class="row"><div class="col-sm-12 -margin-bottom-50"><div class="sr-title -title-gray -gray-md">Server set to</div><div class="sr-title -title-host -title-upper" ng-bind="amctrl.getFullHostName()"></div></div><div class="col-sm-5 -margin-bottom-50 -line-height-1"><div class="sr-label -label-host" ng-class="{\'active\': amctrl.host.name === \'READER\'}">Mangareader.net</div></div><div class="col-sm-2 -margin-bottom-50 -line-height-1"><switcher class="sr-switch" ng-model="amctrl.host.name" on-change="amctrl.onSwitch()"></switcher></div><div class="col-sm-5 -margin-bottom-50 -line-height-1"><div class="sr-label -label-host" ng-class="{\'active\': amctrl.host.name === \'FOX\'}">Mangafox.me</div></div><div class="col-md-12"><button class="btn sr-btn -btn-gray" ng-click="amctrl.onApply()">Apply</button> <button class="btn sr-btn -btn-gray" ng-click="amctrl.onCancel()">Cancel</button></div></div></section>'),e.put("app/js/modal/reader/reader.tpl.html",'<section><a id="currentPage" href="" class="sr-anchor"></a><div class="row reader-header"><div class="col-sm-6 sr-title -title-neon -title-name -text-right" data-name="{{rmctrl.model.name}}">Chapter {{rmctrl.model.chapterIdx + 1}}</div><div class="col-sm-6 sr-title -title-neon">{{rmctrl.model.index + 1}} / {{rmctrl.model.total + 1}}</div></div><button type="button" class="btn sr-btn -btn-close" ng-click="rmctrl.onCancel()"><i class="sr-icon -icon-close icon-cross"></i></button><c-reader ng-model="rmctrl.model" on-prev="rmctrl.onPrev()" on-next="rmctrl.onNext()"></c-reader></section>'),e.put("app/js/modal/select/select.tpl.html",'<section class="modal-inner"><div class="row"><div class="col-sm-12 -margin-bottom-70"><image-select on-select-error="smctrl.onSelectError()" items="smctrl.files"></image-select></div><div class="col-md-12"><button class="btn sr-btn -btn-gray" ng-click="smctrl.onApply()">Continue</button> <button class="btn sr-btn -btn-gray" ng-click="smctrl.onCancel()">Cancel</button></div></div></section>'),e.put("app/js/remote/comics/comics.tpl.html",'<section anim-debounce="" delayed-fn="rcctrl.setCurrentView()" delay="750"><div class="row sr-wrapper -wrapper-fixed-header"><div class="col-sm-6 -height-45"><div class="sr-wrapper -wrapper-form-text"><input class="sr-form-text -form-md" ng-model="rcctrl.query" ng-change="rcctrl.onSearch()" ng-model-options="{debounce: 350}" placeholder="Search"> <i class="sr-icon -icon-search -icon-green icon-search" ng-class="{\'active\': rcctrl.query}" ng-click="rcctrl.onClear()"></i></div></div><div class="col-sm-6 -line-height-45"><pagination class="sr-pagination" ng-class="{\'-no-boundaries\': rcctrl.pagination.totalCount <= 5}" total-items="rcctrl.pagination.totalCount" items-per-page="rcctrl.pagination.limit" ng-model="rcctrl.pagination.offset" ng-if="rcctrl.pagination.totalCount > 0" max-size="rcctrl.pagination.maxSize" boundary-links="true" previous-text="‹" next-text="›" first-text="«" last-text="»"></pagination></div><div class="col-sm-12"><div class="row sr-wrapper -wrapper-header"><div class="col-sm-10 -padding-y-0 -padding-x-5"><div class="headline" data-text="Title">Title</div></div><div class="col-sm-2 -padding-y-0 -padding-x-5"><div class="headline">Actions</div></div></div></div></div><div class="sr-wrapper -wrapper-table" scroll-height=""><div class="sr-form-table" ng-class="{\'-scroll-active\': scrollActive}" scroll-class=""><div class="row form-row" ng-click="rcctrl.onOpen(item)" ng-repeat="item in rcctrl.comics | filter: rcctrl.query | offset: {offset: rcctrl.pagination.offset, limit: rcctrl.pagination.limit}"><div class="col-sm-10"><div ng-bind="::item.name"></div></div><div class="col-sm-2 -text-center -cursor-pointer"><div class="border-left"></div><i class="sr-icon -icon-green icon-circle-right"></i></div></div></div></div></section>')}]);